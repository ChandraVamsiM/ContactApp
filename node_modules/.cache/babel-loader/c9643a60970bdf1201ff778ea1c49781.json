{"ast":null,"code":"var _jsxFileName = \"E:\\\\delete\\\\contact-app\\\\src\\\\pages\\\\AddEditContact.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useAddContactMutation, useContactQuery, useUpdateContactMutation } from \"../services/contactsApi\";\nimport \"./AddEditContact.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  dateOfBirth: \"\",\n  email: \"\",\n  contact: \"\"\n};\n\nconst AddEditContact = () => {\n  _s();\n\n  const [formValue, setFormValue] = useState(initialState);\n  const [editMode, setEditMode] = useState(false);\n  const [addContact] = useAddContactMutation();\n  const [updateContact] = useUpdateContactMutation();\n  const [selectedDate, setSelectedDate] = useState(initialState);\n  const {\n    name,\n    dateOfBirth,\n    email,\n    contact\n  } = formValue;\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const {\n    data,\n    error,\n    isLoading,\n    isFetching\n  } = useContactQuery(id);\n  useEffect(() => {\n    if (id) {\n      setEditMode(true);\n\n      if (data) {\n        setFormValue({ ...data\n        });\n      }\n    } else {\n      setEditMode(false);\n\n      if (data) {\n        setFormValue({ ...initialState\n        });\n      }\n    }\n  }, [id, data]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const emailregex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n    const contactregex = /^([+]\\d{2}[ ])?\\d{10}$/;\n\n    if (!name && !email && !contact) {\n      toast.error(\"Please provide value into each input field\");\n    } else if (name.length > 15) {\n      toast.error(\"Name should be less than 15 Letters\");\n    } else if (!email) {\n      toast.error(\"Email Cannot Be Empty!\");\n    } else if (!emailregex.test(email)) {\n      toast.error(\"This is not a valid email format!\");\n    } else if (!contact) {\n      toast.error(\"Contact Number Cannot Be Empty!\");\n    } else if (!contactregex.test(contact)) {\n      toast.error(\"This is not a valid contact Number!\");\n    } else {\n      if (!editMode) {\n        await addContact(formValue);\n        navigate(\"/\");\n        toast.success(\"Contact Added Successfully\");\n      } else {\n        await updateContact(formValue);\n        navigate(\"/\");\n        setEditMode(false);\n        toast.success(\"Contact Updated Successfully\");\n      }\n    }\n  };\n\n  const handleInputChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setFormValue({ ...formValue,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"100px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        margin: \"auto\",\n        padding: \"15px\",\n        maxWidth: \"400px\",\n        alignContent: \"center\"\n      },\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Name...\",\n        value: name || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"dateOfBirth\",\n        children: \"Date Of Birth\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n        placeholder: \"Name...\",\n        onChange: date => setSelectedDate(date)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email...\",\n        value: email || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"contact\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"contact\",\n        name: \"contact\",\n        placeholder: \"Contact No.....\",\n        value: contact || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: id ? \"Update\" : \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-edit\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddEditContact, \"uhCT6FyhJ6lxgA0YHcvpqToGMco=\", false, function () {\n  return [useAddContactMutation, useUpdateContactMutation, useNavigate, useParams, useContactQuery];\n});\n\n_c = AddEditContact;\nexport default AddEditContact;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEditContact\");","map":{"version":3,"names":["useState","useEffect","useParams","DatePicker","useNavigate","Link","toast","useAddContactMutation","useContactQuery","useUpdateContactMutation","initialState","name","dateOfBirth","email","contact","AddEditContact","formValue","setFormValue","editMode","setEditMode","addContact","updateContact","selectedDate","setSelectedDate","navigate","id","data","error","isLoading","isFetching","handleSubmit","e","preventDefault","emailregex","contactregex","length","test","success","handleInputChange","value","target","marginTop","margin","padding","maxWidth","alignContent","date"],"sources":["E:/delete/contact-app/src/pages/AddEditContact.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  useAddContactMutation,\r\n  useContactQuery,\r\n  useUpdateContactMutation,\r\n} from \"../services/contactsApi\";\r\nimport \"./AddEditContact.css\";\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  dateOfBirth: \"\",\r\n  email: \"\",\r\n  contact: \"\",\r\n};\r\n\r\nconst AddEditContact = () => {\r\n  const [formValue, setFormValue] = useState(initialState);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [addContact] = useAddContactMutation();\r\n  const [updateContact] = useUpdateContactMutation();\r\n  const [selectedDate, setSelectedDate] = useState(initialState);\r\n  const { name, dateOfBirth, email, contact } = formValue;\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const { data, error, isLoading, isFetching } = useContactQuery(id!);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      setEditMode(true);\r\n      if (data) {\r\n        setFormValue({ ...data });\r\n      }\r\n    } else {\r\n      setEditMode(false);\r\n      if (data) {\r\n        setFormValue({ ...initialState });\r\n      }\r\n    }\r\n  }, [id, data]);\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    const emailregex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\r\n    const contactregex = /^([+]\\d{2}[ ])?\\d{10}$/;\r\n    if (!name && !email && !contact) {\r\n      toast.error(\"Please provide value into each input field\");\r\n    } else if (name.length > 15) {\r\n      toast.error(\"Name should be less than 15 Letters\");\r\n    } else if (!email) {\r\n      toast.error(\"Email Cannot Be Empty!\");\r\n    } else if (!emailregex.test(email)) {\r\n      toast.error(\"This is not a valid email format!\");\r\n    } else if (!contact) {\r\n      toast.error(\"Contact Number Cannot Be Empty!\");\r\n    } else if (!contactregex.test(contact)) {\r\n      toast.error(\"This is not a valid contact Number!\");\r\n    } else {\r\n      if (!editMode) {\r\n        await addContact(formValue);\r\n        navigate(\"/\");\r\n        toast.success(\"Contact Added Successfully\");\r\n      } else {\r\n        await updateContact(formValue);\r\n        navigate(\"/\");\r\n        setEditMode(false);\r\n        toast.success(\"Contact Updated Successfully\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: any) => {\r\n    let { name, value } = e.target;\r\n    setFormValue({ ...formValue, [name]: value });\r\n  };\r\n  return (\r\n    <div style={{ marginTop: \"100px\" }}>\r\n      <form\r\n        style={{\r\n          margin: \"auto\",\r\n          padding: \"15px\",\r\n          maxWidth: \"400px\",\r\n          alignContent: \"center\",\r\n        }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label className=\"name\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          placeholder=\"Name...\"\r\n          value={name || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n        <label className=\"dateOfBirth\">Date Of Birth</label>\r\n        <DatePicker\r\n          placeholder=\"Name...\"\r\n          onChange={(date: any) => setSelectedDate(date)}\r\n        />\r\n        <label className=\"email\">Email</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email...\"\r\n          value={email || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n        <label className=\"contact\">Contact</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"contact\"\r\n          name=\"contact\"\r\n          placeholder=\"Contact No.....\"\r\n          value={contact || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <input type=\"submit\" value={id ? \"Update\" : \"Save\"} />\r\n      </form>\r\n      <Link to=\"/\">\r\n        <button className=\"btn btn-edit\">Go Back</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEditContact;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}